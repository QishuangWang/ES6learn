<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<script type="text/javascript">
			//创建Promise
			//			*Promise的状态state
			//			1,pending等待状态
			//			2,fulfilled成功状态
			//			3,rejected失败状态
			let p = new Promise(function(resolve,reject) {
				setTimeout(function() {
					let num = Math.random()
			//			*resolve/reject方法
			//			resolve方法可以将pending转为fulfilled，reject方法可以将pending转为rejected。	
					if(num > 0.5) {
						resolve(num)
					} else {
						reject(num)
					}
				}, 1000)
			})
			//			***then(fn1,fn2)方法
			//			有2个函数作为参数,第一个是成功的回调,第二个是失败的回调
			p.then(function(num){
				console.log('大于0.5的数字：',num)
			},function(num){
				console.log('小于0.5的',num)
			})
			//每个then方法都会返回一个新的Promise对象，让then方法可以链式调用
			//并可以通过返回值将参数传给下一个then
			p.then(function(num){
				return num
			},function(num){
				return num
			}).then(function(num){
				console.log('大于0.5的数字：',num)
			},function(num){
				console.log('小于0.5的',num)
			})
			//catch方法等同与.then(null,reject)直接指定失败的回调
			//Promise.all()方法可以将多个Promise实例包装成一个Promise实例
//			let Promise1 =new Promise(function(resolve,reject){})
//			let Promise2 =new Promise(function(resolve,reject){})
//			let Promise3 =new Promise(function(resolve,reject){})
//			let p = Promise.all([Promise1,Promise2.Promise3])
//			p.then(function(){
//				//三个都成功则成功
//			},function(){
//				//只要有失败，则失败
//			})
//			Promise.race()与all方法类似,不同的是race的状态由第一个小Promise的状态决定
//			Promise.resolve('成功')等同于new Promise(function(resolve){resolve('成功')})
//			Promise.reject('出错了')等同于new Promise((resolve, reject) => reject('出错了'))

		</script>
	</body>

</html>